<!DOCTYPE html>
<html lang="en-us">
<head>

  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="theme" content="hugo-academic">
  <meta name="generator" content="Hugo 0.31.1" />
  <meta name="author" content="Clément Parisot">
  <meta name="description" content="HPC system administrator">

  
  <link rel="alternate" hreflang="en-us" href="http://clement-parisot.github.io/project/kwapi/">

  
  


  

  
  
  
  
    
  
  
    
    
      
        <link rel="stylesheet" href="//cdnjs.cloudflare.com/ajax/libs/highlight.js/9.12.0/styles/github.min.css">
      
    
  
  
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.3.7/css/bootstrap.min.css" integrity="sha512-6MXa8B6uaO18Hid6blRMetEIoPqHf7Ux1tnyIQdpt9qI5OACx7C+O3IVTr98vwGnlcg0LOLa02i9Y1HpVhlfiw==" crossorigin="anonymous">
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/academicons/1.8.1/css/academicons.min.css" integrity="sha512-NThgw3XKQ1absAahW6to7Ey42uycrVvfNfyjqcFNgCmOCQ5AR4AO0SiXrN+8ZtYeappp56lk1WtvjVmEa+VR6A==" crossorigin="anonymous">
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css" integrity="sha512-SfTiTlX6kk+qitfevl/7LibUOeJWlt9rbyDn92a1DqWOw9vWG2MFoays0sgObmWazO5BQPiFucnnEAjpAB+/Sw==" crossorigin="anonymous">
  
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/leaflet/1.2.0/leaflet.css" integrity="sha512-M2wvCLH6DSRazYeZRIm1JnYyh22purTM+FDB5CsyxtQJYeKq83arPe5wgbNmcFXGqiSH2XR8dT/fJISVA1r/zQ==" crossorigin="anonymous">
  
  
  
  
  <link rel="stylesheet" href="//fonts.googleapis.com/css?family=Montserrat:400,700%7cRoboto:400,400italic,700%7cRoboto&#43;Mono">
  
  <link rel="stylesheet" href="/styles.css">
  

  

  
  <link rel="alternate" href="http://clement-parisot.github.io/index.xml" type="application/rss+xml" title="Clément Parisot">
  <link rel="feed" href="http://clement-parisot.github.io/index.xml" type="application/rss+xml" title="Clément Parisot">
  

  <link rel="manifest" href="/site.webmanifest">
  <link rel="icon" type="image/png" href="/img/icon.png">
  <link rel="apple-touch-icon" type="image/png" href="/img/icon-192.png">

  <link rel="canonical" href="http://clement-parisot.github.io/project/kwapi/">

  <meta property="twitter:card" content="summary_large_image">
  
  <meta property="twitter:site" content="@pclems54">
  <meta property="twitter:creator" content="@pclems54">
  
  <meta property="og:site_name" content="Clément Parisot">
  <meta property="og:url" content="http://clement-parisot.github.io/project/kwapi/">
  <meta property="og:title" content="Kwapi | Clément Parisot">
  <meta property="og:description" content="">
  <meta property="og:locale" content="en-us">
  
  <meta property="article:published_time" content="2014-07-01T00:00:00&#43;02:00">
  
  <meta property="article:modified_time" content="2014-07-01T00:00:00&#43;02:00">
  

  
<script src="https://cdn.jsdelivr.net/particles.js/2.0.0/particles.min.js"></script>
<script src="/js/app.js"></script>
<script type="text/javascript" src="https://ajax.googleapis.com/ajax/libs/jquery/1.7.1/jquery.min.js"></script>

<script src="/js/navbar.js"></script>


  <title>Kwapi | Clément Parisot</title>

</head>
<body id="top" data-spy="scroll" data-target="#toc" data-offset="71" >

<nav class="navbar navbar-default navbar-fixed-top" id="navbar-main">
  <div class="container">

    
    <div class="navbar-header">
      
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse"
              data-target=".navbar-collapse" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      
      <a class="navbar-brand" href="/">Clément Parisot</a>
    </div>

    
    <div class="collapse navbar-collapse">

      
      
      <ul class="nav navbar-nav navbar-right">
        

        

        
          
        

        <li class="nav-item">
          <a href="/#about">
            
            <span>Home</span>
            
          </a>
        </li>

        
        

        

        
          
        

        <li class="nav-item">
          <a href="/#publications_selected">
            
            <span>Publications</span>
            
          </a>
        </li>

        
        

        

        
          
        

        <li class="nav-item">
          <a href="/#projects">
            
            <span>Projects</span>
            
          </a>
        </li>

        
        

        

        
          
        

        <li class="nav-item">
          <a href="/#contact">
            
            <span>Contact</span>
            
          </a>
        </li>

        
        
      

      
      </ul>

    </div>
  </div>
</nav>


<article class="article article-project" itemscope itemtype="http://schema.org/Article">

  


  <div class="article-container">

    <div class="pub-title">
      <h1 itemprop="name">Kwapi</h1>
      <span class="pub-authors" itemprop="author">&nbsp;</span>
      <span class="pull-right">
        
<div class="share-box" aria-hidden="true">
  <ul class="share">
    <li>
      <a class="twitter"
         href="https://twitter.com/intent/tweet?text=Kwapi&amp;url=http%3a%2f%2fclement-parisot.github.io%2fproject%2fkwapi%2f"
         target="_blank" rel="noopener">
        <i class="fa fa-twitter"></i>
      </a>
    </li>
    <li>
      <a class="facebook"
         href="https://www.facebook.com/sharer.php?u=http%3a%2f%2fclement-parisot.github.io%2fproject%2fkwapi%2f"
         target="_blank" rel="noopener">
        <i class="fa fa-facebook"></i>
      </a>
    </li>
    <li>
      <a class="linkedin"
         href="https://www.linkedin.com/shareArticle?mini=true&amp;url=http%3a%2f%2fclement-parisot.github.io%2fproject%2fkwapi%2f&amp;title=Kwapi"
         target="_blank" rel="noopener">
        <i class="fa fa-linkedin"></i>
      </a>
    </li>
    <li>
      <a class="weibo"
         href="http://service.weibo.com/share/share.php?url=http%3a%2f%2fclement-parisot.github.io%2fproject%2fkwapi%2f&amp;title=Kwapi"
         target="_blank" rel="noopener">
        <i class="fa fa-weibo"></i>
      </a>
    </li>
    <li>
      <a class="email"
         href="mailto:?subject=Kwapi&amp;body=http%3a%2f%2fclement-parisot.github.io%2fproject%2fkwapi%2f">
        <i class="fa fa-envelope"></i>
      </a>
    </li>
  </ul>
</div>


      </span>
    </div>

    

    <div class="article-style" itemprop="articleBody">
      

<h1 id="my-contribution">My contribution</h1>

<p>During my intership in Inria Nancy in 2014, I contributed 6 months on this project to add network monitoring to Kwapi.</p>

<p>I adapted the code, make it compliant with Grid&rsquo;5000 environment, packaged it for Debian. Then I created one VM per Grid&rsquo;5000 site, write a Puppet module and deploy it everywhere.</p>

<p>After that, I continue to maintain Kwapi during 2 years, adding some patchs and checking the monitoring on every site.</p>

<p>This is an extract from <a href="https://www.grid5000.fr/mediawiki/index.php/Measurements_tutorial#Measurements_using_Kwapi" target="_blank">Grid&rsquo;5000 website</a> about Kwapi:</p>

<h1 id="measurements-using-kwapi-on-grid-5000">Measurements using Kwapi on Grid&rsquo;5000</h1>

<p>For the classic Ganglia measurements, a user requiring a higher resolution can simply deploy his own measurement probes and sample them at a higher frequency. This is not true for all measurements, in particular for probes outside the control of users such as power consumption probes on power distribution units (PDUs) or some network links. This is why Grid&rsquo;5000 has deployed an adaptation of work on power metering developed by Grid&rsquo;5000 users named Kwapi (<a href="https://launchpad.net/kwapi" target="_blank">reference page</a>, <a href="https://github.com/openstack/kwapi" target="_blank">github page</a>). For the curious, the <a href="https://github.com/lpouillo/kwapi-g5k" target="_blank">reference code</a> and <a href="http://kwapi-g5k.readthedocs.org developer" target="_blank">developer documentation</a> is available. In the context of Grid&rsquo;5000, it should be noted that :</p>

<ul>
<li>Measurements in Kwapi-g5k are stored in an HDF5 file : no data is lost over time.</li>
<li>The web interface to display metrics (<a href="https://intranet.grid5000.fr/supervision/rennes/monitoring/energy/last/minute/" target="_blank">example for Rennes</a> is aware of OAR jobs, to allow users to have an experiment-centric view of the collected data.</li>
<li>Kwapi-g5k comes with a native API to retrieve data. This API is partly compatible with the one developed for Ganglia.[&hellip;] This gives the illusion of a unified Metrology API to most users.</li>
<li>No user defined measurements can be collected by Kwapi-g5k.</li>
<li><strong>There is a 5minutes delay (300 collected values) before data are written to the disk and accessible via the Kwapi API</strong>. This delay has been introduced because Kwapi use NFS volumes to store data and frequent writes stress the NFS servers. HDF5 API should be used to retrieve data after an experiment. For more instantaneous results, you should use Kwapi API (port 5000) which expose data in a &ldquo;Ganglia like&rdquo; way.</li>
</ul>

    </div>

    


<div class="article-tags">
  
  <a class="btn btn-primary btn-outline" href="/tags/kwapi">kwapi</a>
  
  <a class="btn btn-primary btn-outline" href="/tags/monitoring">monitoring</a>
  
  <a class="btn btn-primary btn-outline" href="/tags/power-consumption">power consumption</a>
  
  <a class="btn btn-primary btn-outline" href="/tags/network-bandwidth">network bandwidth</a>
  
  <a class="btn btn-primary btn-outline" href="/tags/grid5000">grid5000</a>
  
</div>




    
    
    

    
      
      
      
      
        <h2>Publications</h2>
        
          
            <div class="pub-list-item" style="margin-bottom: 1rem" itemscope itemtype="http://schema.org/CreativeWork">
  <i class="fa fa-file-text-o pub-icon" aria-hidden="true"></i>
  <span itemprop="author">
    Florentin Clouet, Simon Delamare, Jean-Patrick Gelas, Laurent Lefèvre, Lucas Nussbaum, Clément Parisot, Laurent Pouilloux, François Rossigneux</span>.
  <a href="http://clement-parisot.github.io/publication/kwapi/" itemprop="name">A unified monitoring framework for energy consumption and network traffic</a>.
  In <strong>TRIDENTCOM</strong>,&nbsp;2015.
  <p>



<a class="btn btn-primary btn-outline btn-xs" href="https://hal.inria.fr/hal-01167915/document" target="_blank" rel="noopener">
  Preprint
</a>


<a class="btn btn-primary btn-outline btn-xs" href="https://hal.inria.fr/hal-01167915/document" target="_blank" rel="noopener">
  PDF
</a>





<a class="btn btn-primary btn-outline btn-xs" href="https://github.com/grid5000/kwapi-g5k" target="_blank" rel="noopener">
  Code
</a>




<a class="btn btn-primary btn-outline btn-xs" href="/project/kwapi/">
  Project
</a>







</p>
</div>

          
        
      

      
      
      
      
    

  </div>
</article>

<div class="container">
  <nav>
  <ul class="pager">
    

    
    <li class="next"><a href="http://clement-parisot.github.io/project/validmaker/">ValidMaker <span
      aria-hidden="true">&rarr;</span></a></li>
    
  </ul>
</nav>

</div>

<footer class="site-footer">
  <div class="container">
    <p class="powered-by">

      &copy; 2017 Tous droits réservés &middot; 

      Powered by the
      <a href="https://sourcethemes.com/academic/" target="_blank" rel="noopener">Academic theme</a> for
      <a href="https://gohugo.io" target="_blank" rel="noopener">Hugo</a>.

      <span class="pull-right" aria-hidden="true">
        <a href="#" id="back_to_top">
          <span class="button_icon">
            <i class="fa fa-chevron-up fa-2x"></i>
          </span>
        </a>
      </span>

    </p>
  </div>
</footer>


<div id="modal" class="modal fade" role="dialog">
  <div class="modal-dialog">
    <div class="modal-content">
      <div class="modal-header">
        <button type="button" class="close btn-large" data-dismiss="modal">&times;</button>
        <h4 class="modal-title">Cite</h4>
      </div>
      <div>
        <pre><code class="modal-body tex"></code></pre>
      </div>
      <div class="modal-footer">
        <a class="btn btn-primary btn-outline js-copy-cite" href="#" target="_blank">
          <i class="fa fa-copy"></i> Copy
        </a>
        <a class="btn btn-primary btn-outline js-download-cite" href="#" target="_blank">
          <i class="fa fa-download"></i> Download
        </a>
        <div id="modal-error"></div>
      </div>
    </div>
  </div>
</div>

    

    
    
    <script id="dsq-count-scr" src="//clementparisot.disqus.com/count.js" async></script>
    

    

    
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.2.1/jquery.min.js" integrity="sha512-3P8rXCuGJdNZOnUx/03c1jOTnMn3rP63nBip5gOP2qmUh5YAdVAvFZ1E+QLZZbC1rtMrQb+mah3AfYW11RUrWA==" crossorigin="anonymous"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery.imagesloaded/4.1.3/imagesloaded.pkgd.min.js" integrity="sha512-umsR78NN0D23AzgoZ11K7raBD+R6hqKojyBZs1w8WvYlsI+QuKRGBx3LFCwhatzBunCjDuJpDHwxD13sLMbpRA==" crossorigin="anonymous"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.3.7/js/bootstrap.min.js" integrity="sha512-iztkobsvnjKfAtTNdHkGVjAYTrrtlC7mGp/54c40wowO7LhURYl3gVzzcEqGl/qKXQltJ2HwMrdLcNUdo+N/RQ==" crossorigin="anonymous"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery.isotope/3.0.4/isotope.pkgd.min.js" integrity="sha512-VDBOIlDbuC4VWxGJNmuFRQ0Li0SKkDpmGyuhAG5LTDLd/dJ/S0WMVxriR2Y+CyPL5gzjpN4f/6iqWVBJlht0tQ==" crossorigin="anonymous"></script>
    
    <script src="https://cdnjs.cloudflare.com/ajax/libs/leaflet/1.2.0/leaflet.js" integrity="sha512-lInM/apFSqyy1o6s89K4iQUKg6ppXEgsVxT35HbzUupEVRh2Eu9Wdl4tHj7dZO0s1uvplcYGmt3498TtHq+log==" crossorigin="anonymous"></script>
    
    
    <script src="/js/hugo-academic.js"></script>
    

    
    
      
      
      <script src="//cdnjs.cloudflare.com/ajax/libs/highlight.js/9.12.0/highlight.min.js" integrity="sha256-/BfiIkHlHoVihZdc6TFuj7MmJ0TWcWsMXkeDFwhi0zw=" crossorigin="anonymous"></script>
      

      

      

      <script>hljs.initHighlightingOnLoad();</script>
    

    
    

  </body>
</html>

